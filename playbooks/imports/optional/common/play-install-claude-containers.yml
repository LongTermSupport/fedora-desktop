#!/usr/bin/env ansible-playbook
# Unified installation for both CCY (General YOLO) and CCB (Browser Mode)
# This playbook imports both individual playbooks in the correct order
# Maintains DRY principle - single source of truth for each component

- name: Install CCY (General YOLO Mode)
  import_playbook: play-install-claude-yolo.yml

- name: Install CCB (Browser Mode)
  import_playbook: play-install-claude-browser.yml

- hosts: desktop
  name: Claude Code Containers - Installation Summary
  become: false
  tasks:
    - name: Display Unified Installation Summary
      debug:
        msg:
          - "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          - "Claude Code Containers Installation Complete"
          - "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          - ""
          - "âœ… CCY (General YOLO Mode) - Installed"
          - "   â€¢ Container image: claude-yolo:latest"
          - "   â€¢ Bash alias: ccy"
          - "   â€¢ Token directory: ~/.claude-tokens/ccy/"
          - ""
          - "âœ… CCB (Browser Mode) - Installed"
          - "   â€¢ Container image: claude-browser:latest"
          - "   â€¢ Bash alias: ccb"
          - "   â€¢ chrome-ws CLI: Installed"
          - "   â€¢ Playwright MCP: Installed"
          - ""
          - "ğŸš€ Quick Start"
          - ""
          - "  Reload your shell:"
          - "    source ~/.bashrc"
          - ""
          - "  For general development:"
          - "    cd ~/Projects/your-project"
          - "    ccy"
          - ""
          - "  For browser automation:"
          - "    cd ~/Projects/your-project"
          - "    ccb"
          - ""
          - "ğŸ’¡ Token Management"
          - ""
          - "  Both ccy and ccb share the same token pool."
          - "  Create a token with either command:"
          - ""
          - "    ccy --create-token"
          - "    ccy --list-tokens"
          - "    ccy --token personal"
          - ""
          - "  The token works for both ccy and ccb:"
          - "    ccb --token personal"
          - ""
          - "ğŸ“š More Information"
          - ""
          - "  ccy --help    # Show ccy options"
          - "  ccb --help    # Show ccb options"
          - ""
          - "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
