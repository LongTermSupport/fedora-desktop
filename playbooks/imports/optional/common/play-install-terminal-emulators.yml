---
#!/usr/bin/env ansible-playbook
# Install modern terminal emulators optimized for Claude Code
# Provides Alacritty, Kitty, Ghostty, and Foot - all with excellent performance,
# true color support, and great experience for AI-assisted development

- hosts: desktop
  name: Install Modern Terminal Emulators
  become: true
  vars:
    root_dir: "{{ inventory_dir }}/../../"
  tasks:
    # Alacritty - Fastest terminal with lowest input latency
    - name: Install Alacritty Terminal Emulator
      ansible.builtin.package:
        name: alacritty
        state: present
      tags: alacritty

    # Kitty - Feature-rich with native tabs and image support
    - name: Install Kitty Terminal Emulator
      ansible.builtin.package:
        name: kitty
        state: present
      tags: kitty

    # Ghostty - Brand new terminal by Mitchell Hashimoto (v1.0 released Christmas 2025)
    - name: Install Ghostty COPR Repository
      ansible.builtin.command:
        cmd: dnf copr enable -y pgdev/ghostty
        creates: /etc/yum.repos.d/_copr:copr.fedorainfracloud.org:pgdev:ghostty.repo
      tags: ghostty

    - name: Install Ghostty Terminal Emulator
      ansible.builtin.package:
        name: ghostty
        state: present
      tags: ghostty

    # Foot - Lightning-fast Wayland-native terminal with minimal resource usage
    - name: Install Foot Terminal Emulator
      ansible.builtin.package:
        name: foot
        state: present
      tags: foot

    - name: Display Installation Complete Message
      ansible.builtin.debug:
        msg: |
          Modern terminal emulators installed successfully:

          üöÄ Alacritty - Fastest with lowest input latency
            ‚Ä¢ GPU-accelerated with OpenGL
            ‚Ä¢ Simple, minimal configuration (YAML)
            ‚Ä¢ Best for: Speed and simplicity
            ‚Ä¢ Launch: alacritty

          üê± Kitty - Feature-rich with excellent graphics
            ‚Ä¢ Native tabs and window splits
            ‚Ä¢ Image protocol support
            ‚Ä¢ Font ligature support
            ‚Ä¢ Best for: Feature-rich experience with built-in multiplexing
            ‚Ä¢ Launch: kitty

          üëª Ghostty - Brand new from HashiCorp co-founder (v1.0 Dec 2025)
            ‚Ä¢ Platform-native UI (GTK4)
            ‚Ä¢ GPU-accelerated (OpenGL)
            ‚Ä¢ Zero configuration needed
            ‚Ä¢ Built-in tabs, splits, hundreds of themes
            ‚Ä¢ Best for: Modern features with native integration
            ‚Ä¢ Launch: ghostty

          ü¶∂ Foot - Lightning-fast Wayland-native minimalist
            ‚Ä¢ Built specifically for Wayland
            ‚Ä¢ Extremely lightweight (21 MB memory!)
            ‚Ä¢ CPU-based rendering (faster than GPU for terminals)
            ‚Ä¢ Server/client architecture for instant startup
            ‚Ä¢ Best for: Wayland users wanting maximum efficiency
            ‚Ä¢ Launch: foot (or foot --server + footclient)

          All terminals feature:
          ‚úì True color (24-bit) support
          ‚úì Excellent performance with Claude Code
          ‚úì Low input latency

          Configuration files:
          ‚Ä¢ Alacritty: ~/.config/alacritty/alacritty.yml
          ‚Ä¢ Kitty: ~/.config/kitty/kitty.conf
          ‚Ä¢ Ghostty: ~/.config/ghostty/config
          ‚Ä¢ Foot: ~/.config/foot/foot.ini
